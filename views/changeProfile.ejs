<!DOCTYPE html>
<html lang = "ko" class = "<%= (currentPage === 'trading') ? 'active_t' : '' %>">
    <head>
        <meta charset = "utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> VCis </title>
        <link rel = "stylesheet" href = "<%= darkMode ? '/css/main_style_dark.css' : '/css/main_style.css' %>">
        <link rel = "stylesheet" href = "/css/change_profile.css">
        <link rel = "stylesheet" href = "/fonts/font.css">
    </head>
    <body class = "<%= (currentPage === 'main') ? 'active' : '' %> <%= (currentPage === 'trading') ? 'active_t' : '' %>">
        <div class = "banner <%= (currentPage === 'main') ? 'active' : '' %>">
            <div class = "top_container">
                <div class = "logo_container">
                    <!-- <img id = "main_logo" src = "/images/logo_white.png" onclick = "location.href = '/main'"> -->
                    <img id = "main_logo" src = "/images/logo_test.png" onclick = "location.href = '/main'">
                    <span id = "logo_txt"><span style = "color: #5398ff;">SIMPLE </span>Virtual Crypto Investment Simulation</span>
                </div>
                <div class = "assets_display">
                    <span style = "color: #5398ff;"><%= userName %></span> 님, 오늘의 가상투자 여정을 시작해보세요! 
                    &ensp;
                    <span id = "user_assets"><%= money %>원</span>
                </div>
            </div>
            <nav class = "nav_container">
                <div class = "nav_left">
                    <a href = "/main/" class = "nav_item <%= (currentPage === 'main') ? 'active' : '' %>">메인 페이지</a>
                    <div class = "bar"></div>
                    <a href = "/main/trading" class = "nav_item <%= (currentPage === 'trading') ? 'active' : '' %>">코인 거래</a>
                    <div class = "bar"></div>
                    <a href = "/main/mywallet" class = "nav_item <%= (currentPage === 'mywallet') ? 'active' : '' %>">개인 지갑</a>
                    <div class = "bar"></div>
                    <a href = "/main/dailymoney" class = "nav_item <%= (currentPage === 'dailymoney') ? 'active' : '' %>">데일리머니</a>
                    
                </div>
                <div class = "nav_right">
                    <a href = "/main/mypage" class = "nav_item  <%= (currentPage === 'changeprofile') ? 'active' : '' %>">마이페이지</a>
                    <a href="/users/logout" class="nav_item">로그아웃</a>
                </div>
            </nav>
        </div>
        <div id = "page_container">
            <div class = "main_container <%= (currentPage === 'trading') ? 'active_t' : '' %>">
                <div class = "change_profile_container">
                    <div class="user_container">
                        <div class="user_profile">
                            <img src="<%= userImg %>" id = "tmpImg">
                            <h2 id = "tmpName"><%= userName %></h2><br>
                            <p id = "tmpExplain"><%= userExplain %></p>
                        </div>
                        <div class="user_info">
                            <p style = "display: none;"><span class="user_label">회원 ID:</span> <%= userId %></p>
                            <p style = "display: none;"><span class="user_label">보유 원화 자산:</span> <%= money %>원</p>
                        </div>
                    </div>
                    <div class="modal-overlay-name" style = "display: none;">
                    
                        <div class="modal-container-name">
                            <div class="modal-header-name">
                                <h2 class="modal-title-name">닉네임 변경</h2>
                                <button type = "button" class="close-button-name">&times;</button>
                            </div>
                            <form id = "changeNameForm">
                                <div class="input-container-name">
                                    <input type = "text" class = "nickname-input" placeholder = "새로운 닉네임을 입력하세요" maxlength = "12">
                                    <div class="character-count">
                                        0/12
                                    </div>
                                </div>
                                <div class="button-container-name">
                                    <p id = "changeNameMsg">2~12글자의 닉네임을 작성해주세요</p>
                                    <input type = "submit" class="submit-button-name" value = "변경하기" disabled/>
                                </div>
                            </form>
                        </div>
                    
                    </div>
                    <div class="modal-overlay-explain" style = "display: none;">
                    
                        <div class="modal-container-explain">
                            <div class="modal-header-explain">
                                <h2 class="modal-title-explain">소개말 변경</h2>
                                <button class="close-button-explain">&times;</button>
                            </div>
                            <form id = "changeExplainForm">
                                <div class="input-container-explain">
                                    <input type = "text" class = "explain-input" placeholder = "새로운 소개말을 입력하세요" maxlength = "50">
                                    <div class="character-count-explain">
                                        0/50
                                    </div>
                                </div>
                                <div class="button-container-explain">
                                    <button class="cancel-button-explain" style = "display: none;">취소</button>
                                    <p id = "changeExplainMsg">최대 50글자의 소개말을 작성해주세요</p>
                                    <input type = "submit" class="submit-button-explain" value = "변경하기"/>
                                </div>
                            </form>
                        </div>
                    
                    </div>
                    <div class="modal-overlay-img" style = "display: none;">
                    
                        <div class="modal-container-img">
                            <div class="modal-header-img">
                                <h2 class="modal-title-img">프로필 사진 변경</h2>
                                <button class="close-button-img">&times;</button>
                            </div>
                            <form action="/upload" method="POST" id = "img_submit_form" enctype="multipart/form-data">
                                <input type="file" id = "img_upload_bt" name="userImg" />
                                <br>
                                <input type = "submit" class="submit-button-img" value = "업로드" disabled/>
                            </form>
                        </div>
                    
                    </div>
                    <%- template %>
                </div>
                <input type = "button" class = "apply_btn" value = "변경사항 적용" onclick = "location.href = '/users/changeprofile'"/>
            </div>
        </div>
        <footer class = "<%= (currentPage === 'trading') ? 'active_t' : '' %> <%= (currentPage === 'main') ? 'active' : '' %>">
            <div class = "explain_container <%= (currentPage === 'main') ? 'active' : '' %>" style = "text-align: center;">
                브이씨이즈(VCIS)는 실시간 암호화폐 시장 데이터를 활용해 가상자산을 통한 모의 투자 시뮬레이션을 제공하는 웹사이트입니다.<br>이 사이트는 암호화폐에 관심있지만 거래를 할 수 없는 미성년자나 실제 암호화폐 투자 전 시뮬레이션을 원하는 사용자들을 위해 제작되었으며, 업비트 API를 통해 원화 기반 실시간 암호화폐 데이터를 제공합니다.<br>사용자는 자신의 가상 자산을 관리하며, 투자 내역과 자산 현황을 확인할 수 있습니다. 또한, 매일 제공되는 기본 금액과 함께 코인 목록 조회 및 차트 분석, 레버리지 매매 등 다양한 기능을 통해 암호화폐 시장을 체험할 수 있습니다.
                <div class = "developer_container">
                    <a id = "developer_page" href = "https://jynoh00.github.io">@ https://jynoh00.github.io</a>
                </div>
            </div>
        </footer>
    </body>
    <script type = "text/javascript" src = "/js/change_profile.js"></script>
    <script type = "text/javascript" src  = "/js/transition.js"></script>
</html>